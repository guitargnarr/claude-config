#!/bin/bash
# claude-verify
# Purpose: Run all verification scripts
# Last Updated: 2025-11-19

echo "ğŸ” Running AI-Native Development Toolkit Verification..."
echo ""

VERIFICATION_DIR="${HOME}/.claude/verification"

if [ ! -d "$VERIFICATION_DIR" ]; then
    echo "âŒ Verification directory not found: $VERIFICATION_DIR"
    exit 1
fi

# Track overall status
all_passed=true

# Run verify-inventory.sh
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "1. Inventory Verification"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
if [ -x "$VERIFICATION_DIR/verify-inventory.sh" ]; then
    "$VERIFICATION_DIR/verify-inventory.sh"
    if [ $? -ne 0 ]; then
        all_passed=false
    fi
else
    echo "âŒ verify-inventory.sh not found or not executable"
    all_passed=false
fi

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "2. Documentation Verification"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
if [ -x "$VERIFICATION_DIR/verify-docs.sh" ]; then
    "$VERIFICATION_DIR/verify-docs.sh"
    if [ $? -ne 0 ]; then
        all_passed=false
    fi
else
    echo "âŒ verify-docs.sh not found or not executable"
    all_passed=false
fi

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "Overall Result"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

if [ "$all_passed" = true ]; then
    echo "âœ… All verification checks passed!"
    echo ""
    echo "Your AI-native development toolkit is verified and ready to use."
    exit 0
else
    echo "âš ï¸  Some verification checks failed"
    echo ""
    echo "Run 'claude-status' for detailed issues and recommendations."
    exit 1
fi
